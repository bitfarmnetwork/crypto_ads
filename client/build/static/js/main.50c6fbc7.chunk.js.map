{"version":3,"sources":["../node_modules/web3-eth-accounts/src sync","../node_modules/celer-web-sdk/browser sync","firebase.js","NewCampaign.js","helper.js","Page1.js","Page2.js","tictactoe.js","Page3.js","App.js","index.js"],"names":["webpackEmptyContext","req","e","Error","code","keys","resolve","module","exports","id","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","provider","ethers","getDefaultProvider","NewCampaign","props","handleChange1","event","setState","link1","target","value","handleChange2","link2","handleChange3","link3","submitButton","console","log","state","adWallet","address","uploadKeys","database","ref","set","privateKey","then","uploadLinks","catch","problemSubmitting","linksSubmitted","downloadQR","pngUrl","document","getElementById","toDataURL","replace","downloadLink","createElement","href","download","body","appendChild","click","removeChild","accountEmpty","Wallet","createRandom","bind","this","timerID","setInterval","tick","clearInterval","wallet","getBalance","isZero","className","Icon","Group","size","loading","name","level","includeMargin","onClick","Input","focus","placeholder","onChange","Button","content","primary","React","Component","web3Obj","web3","Web3","setweb3","web3Inst","sessionStorage","setItem","initialize","a","torus","Torus","init","login","urls","x","Math","floor","random","length","uiConfig","signInFlow","signInSuccessUrl","signInOptions","auth","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","Topbar","style","backgroundColor","height","textAlign","padding","color","fontSize","title","Page1","handleShow","active","handleHide","values","queryString","parse","location","search","adWalletAddress","videoPlayed","gotLinks","isSignedIn","apiResponse","unregisterAuthObserver","onAuthStateChanged","user","campaignRef","once","snapshot","val","error","uid","currentUser","displayName","email","photoURL","emailVerified","Dimmer","Dimmable","as","Segment","blurring","dimmed","firebaseAuth","Loader","inverted","url","playing","width","onEnded","Page2","loadUserWallet","account","callAPI","handleClick1","history","push","handleClick2","balance","fetchStringWithWalletAddress","fetch","res","text","num","Square","Board","i","squares","renderSquare","player1","address1","player2","address2","openEthChannel","cid1","cid2","sendPay","client","destinationAddress","amount","sendEth","withdrawEth","getEthBalance","balances","depositEth","calculateWinner","lines","b","c","Game","handleWinner","winnerSymbol","wagerAmount","payingClient","winningAddress","balance1","balance2","player1Balance","player2Balance","prepChannels","Array","fill","stepNumber","xIsNext","selectedPlayer","freeBalance","slice","symbol","concat","step","status","handleSubmitDepositEth","preventDefault","player","ethDepositAmount","isNaN","alert","playerClient","playerBalance","handleSubmitWithdrawEth","ethWithdrawAmount","current","winner","map","move","desc","key","jumpTo","handleClick","onSubmit","type","numWei","defaultChecked","lockedBalance","receivingCapacity","celer","require","Client","Page3","App","path","exact","component","ReactDOM","render"],"mappings":"yTAAA,SAASA,EAAoBC,GAC5B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBF,EAAM,KAEjD,MADAC,EAAEE,KAAO,mBACHF,EAEPF,EAAoBK,KAAO,WAAa,MAAO,IAC/CL,EAAoBM,QAAUN,EAC9BO,EAAOC,QAAUR,EACjBA,EAAoBS,GAAK,K,4NCRzB,SAAST,EAAoBC,GAC5B,IAAIC,EAAI,IAAIC,MAAM,uBAAyBF,EAAM,KAEjD,MADAC,EAAEE,KAAO,mBACHF,EAEPF,EAAoBK,KAAO,WAAa,MAAO,IAC/CL,EAAoBM,QAAUN,EAC9BO,EAAOC,QAAUR,EACjBA,EAAoBS,GAAK,K,gQCQzBC,IAASC,cAbM,CACbC,OAAQC,0CACRC,WAAYD,kCACZE,YAAaF,yCACbG,UAAWH,kBACXI,cAAeJ,8BACfK,kBAAmBL,eACnBM,MAAON,4CACPO,cAAeP,iBAMFH,QAAf,ECCIW,EAAWC,SAAOC,mBAAmB,WA2N1BC,E,YAvNb,WAAYC,GAAQ,IAAD,8BACjB,4CAAMA,KA8CRC,cAAgB,SAACC,GACf,EAAKC,SAAS,CAACC,MAAOF,EAAMG,OAAOC,SAhDlB,EAmDnBC,cAAgB,SAACL,GACf,EAAKC,SAAS,CAACK,MAAON,EAAMG,OAAOC,SApDlB,EAsDnBG,cAAgB,SAACP,GACf,EAAKC,SAAS,CAACO,MAAOR,EAAMG,OAAOC,SAvDlB,EA8DnBK,aAAe,WACbC,QAAQC,IAAK,wFAA0F,EAAKC,MAAMC,SAASC,SAC3H,EAAKC,cAhEY,EAqEnBA,WAAa,WAEXhC,EAASiC,WAAWC,IAAI,YAAc,EAAKL,MAAMC,SAASC,SAASI,IAAI,CACnEC,WAAY,EAAKP,MAAMC,SAASM,aACjCC,MAAK,WACJV,QAAQC,IAAI,8BACZ,EAAKU,iBAERC,OAAM,WACH,EAAKrB,SAAS,CACVsB,mBAAmB,QA/EV,EAsFnBF,YAAc,WAEZtC,EAASiC,WAAWC,IAAI,eAAiB,EAAKL,MAAMC,SAASC,SAASI,IAAI,CACtEhB,MAAO,EAAKU,MAAMV,MAClBI,MAAO,EAAKM,MAAMN,MAClBE,MAAO,EAAKI,MAAMJ,QACnBY,MAAK,WACJV,QAAQC,IAAI,kCACZ,EAAKV,SAAS,CAAEuB,gBAAgB,OAEnCF,OAAM,WACH,EAAKrB,SAAS,CACVsB,mBAAmB,QAlGV,EA4GnBE,WAAa,WACX,IACMC,EADSC,SAASC,eAAe,UAEpCC,UAAU,aACVC,QAAQ,YAAa,sBACpBC,EAAeJ,SAASK,cAAc,KAC1CD,EAAaE,KAAOP,EACpBK,EAAaG,SAAW,aACxBP,SAASQ,KAAKC,YAAYL,GAC1BA,EAAaM,QACbV,SAASQ,KAAKG,YAAYP,IApH1B,EAAKnB,MAAQ,CACb2B,cAAc,EACd1B,SAAUlB,SAAO6C,OAAOC,eACxBjB,gBAAgB,EAChBD,mBAAmB,EACnBrB,MAAO,GACPI,MAAO,GACPE,MAAO,IAGP,EAAKT,cAAgB,EAAKA,cAAc2C,KAAnB,gBACrB,EAAKrC,cAAgB,EAAKA,cAAcqC,KAAnB,gBACrB,EAAKnC,cAAgB,EAAKA,cAAcmC,KAAnB,gBAdJ,E,iFAkBE,IAAD,OAClBC,KAAKC,QAAUC,aACb,kBAAM,EAAKC,SACX,O,6CAMFC,cAAcJ,KAAKC,W,oJAIfI,EAAS,IAAIrD,SAAO6C,OAAOG,KAAK/B,MAAMC,SAASM,WAAazB,G,SAC5CsD,EAAOC,a,cAEdC,WAEXP,KAAK1C,SAAS,CACVsC,cAAc,IACf,eAGHQ,cAAcJ,KAAKC,U,qIAkFrB,OAAID,KAAK/B,MAAMY,gBAAmBmB,KAAK/B,MAAMW,mBA0BpCoB,KAAK/B,MAAMY,gBAAkBmB,KAAK/B,MAAMW,kBAE7C,yBAAK4B,UAAU,YACb,6BACE,8EAEF,6BACE,qEAMAR,KAAK/B,MAAM2B,aAEf,yBAAKY,UAAU,YACb,6BACE,4EAEF,6BACE,qDAEF,6BACE,gCAAMR,KAAK/B,MAAMC,SAASC,UAE5B,6BACE,kBAACsC,EAAA,EAAKC,MAAN,CAAYC,KAAK,QACf,kBAACF,EAAA,EAAD,CAAMG,SAAO,EAACD,KAAK,MAAME,KAAK,iBAC9B,kBAACJ,EAAA,EAAD,CAAMI,KAAK,cAEb,kDAQJ,yBAAKL,UAAU,YACb,6BACE,sEAEF,6BACE,kHAEF,6BACE,oFAEF,6BACE,kBAAC,IAAD,CACErE,GAAG,SACHsB,MAAQ,kEAAoEuC,KAAK/B,MAAMC,SAASC,QAChGwC,KAAM,IACNG,MAAO,IACPC,eAAe,KAGnB,6BACE,uBAAGC,QAAShB,KAAKlB,YAAjB,mBAlFJ,yBAAK0B,UAAU,YACb,6BACE,2DAEF,6BACE,sEAEJ,6BACI,kBAACS,EAAA,EAAD,CAAOC,OAAK,EAAEC,YAAY,+BAA+B1D,MAAOuC,KAAK/B,MAAMV,MAAO6D,SAAUpB,KAAK5C,iBAEnG,6BACE,kBAAC6D,EAAA,EAAD,CAAOC,OAAK,EAAGC,YAAY,+BAA+B1D,MAAOuC,KAAK/B,MAAMN,MAAOyD,SAAUpB,KAAKtC,iBAEpG,6BACE,kBAACuD,EAAA,EAAD,CAAOC,OAAK,EAAEC,YAAY,+BAA+B1D,MAAOuC,KAAK/B,MAAMJ,MAAOuD,SAAUpB,KAAKpC,iBAGnG,6BACE,kBAACyD,EAAA,EAAD,CAAQL,QAAShB,KAAKlC,aAAcwD,QAAQ,eAAeC,SAAO,U,GAhJpDC,IAAMC,W,oCClB1BC,EAAU,CACdC,KAAM,IAAIC,IACVC,QAAS,SAAS9E,GAChB,IAAM+E,EAAW,IAAIF,IAAK7E,GAC1B2E,EAAQC,KAAOG,EACfC,eAAeC,QAAQ,kBAAkB,IAE3CC,WAAW,WAAD,4BAAE,4BAAAC,EAAA,6DACJC,EAAQ,IAAIC,IADR,SAEJD,EAAME,OAFF,uBAGJF,EAAMG,QAHF,OAIVZ,EAAQG,QAAQM,EAAMpF,UAJZ,2CAAF,kDAAC,I,gFCQTwF,G,OAAO,CAAC,8CACE,8BACA,gCAERC,EAAIC,KAAKC,MAAMD,KAAKE,SAAWJ,EAAKK,QAEpCC,EAAW,CAEXC,WAAY,QAEZC,iBAAkB,UAClBC,cAAe,CACb5G,EAAS6G,KAAKC,mBAAmBC,aAGnCC,UAAW,CAETC,4BAA6B,kBAAM,KAI3C,SAASC,EAAOnG,GACd,OACE,yBAAKoG,MAAO,CAACC,gBAAiB,UAAWC,OAAO,IAAKC,UAAU,WAC7D,wBAAIH,MAAO,CAACI,QAAQ,GAAIC,MAAM,QAASC,SAAS,KAAM1G,EAAM2G,Q,IAsKnDC,E,YA9Jb,WAAY5G,GAAQ,IAAD,uBACjB,4CAAMA,KAgBR6G,WAAa,kBAAM,EAAK1G,SAAS,CAAE2G,QAAQ,KAjBxB,EAkBnBC,WAAa,kBAAM,EAAK5G,SAAS,CAAE2G,QAAQ,KAfzC,IAAME,EAASC,IAAYC,MAAM,EAAKlH,MAAMmH,SAASC,QAHpC,OAKjB,EAAKtG,MAAQ,CACXuG,gBAAiBL,EAAOK,gBACxBC,aAAa,EACbC,UAAU,EACVT,QAAQ,EACRU,YAAY,EACZC,YAAa,IAXE,E,iFAoBE,IAAD,OAEb5E,KAAK/B,MAAM0G,WACZ5G,QAAQC,IAAI,sBAGZD,QAAQC,IAAI,uBAIdgC,KAAK6E,uBAAyBzI,EAAS6G,OAAO6B,oBAC1C,SAACC,GAAD,OAAU,EAAKzH,SAAS,CAACqH,aAAcI,OAGxC/E,KAAK/B,MAAM0G,WACZ5G,QAAQC,IAAI,sBAGZD,QAAQC,IAAI,uBAGd,IAAMmG,EAASC,IAAYC,MAAMrE,KAAK7C,MAAMmH,SAASC,QAEjDS,EAAc5I,EAASiC,WAAWC,IAAI,eAAiB6F,EAAOK,iBAErC,MAA1BL,EAAOK,kBACRQ,EAAc5I,EAASiC,WAAWC,IAAI,2DAKxC0G,EAAYC,KAAK,SAASxG,MAAK,SAASyG,GAET,IAAxBA,EAASC,MAAM5H,QAClBgF,EAAK,GAAK2C,EAASC,MAAM5H,OAEE,IAAxB2H,EAASC,MAAMxH,QAClB4E,EAAK,GAAK2C,EAASC,MAAMxH,OAEE,IAAxBuH,EAASC,MAAMtH,QAClB0E,EAAK,GAAK2C,EAASC,MAAMtH,OAE1BE,QAAQC,IAAIkH,EAASC,MAAM5H,OAC3BQ,QAAQC,IAAIkH,EAASC,MAAMxH,OAC3BI,QAAQC,IAAIkH,EAASC,MAAMtH,UAG3BY,MAAK,WACN,EAAKnB,SAAS,CAAEoH,UAAU,OACzB,SAASU,GAEVrH,QAAQqH,MAAMA,Q,6CAMlBpF,KAAK6E,2B,+BAGG,IAAD,OAGCZ,EAAWjE,KAAK/B,MAAhBgG,OAEN,IAAIjE,KAAK/B,MAAMyG,SACb,OACE,6BACE,kBAACpB,EAAD,CAAQQ,MAAM,0BAIpB,GAAI9D,KAAK/B,MAAMwG,YAqBX,CACF,GAAGzE,KAAK/B,MAAM0G,WAAW,CACvB5G,QAAQC,IAAI,sBACZ,IACI6C,EAAuBwE,EADvBN,EAAO3I,EAAS6G,OAAOqC,YAGf,MAARP,IACFlE,EAAOkE,EAAKQ,YACJR,EAAKS,MACFT,EAAKU,SACAV,EAAKW,cACrBL,EAAMN,EAAKM,KAIbtH,QAAQC,IAAI6C,GACZ9C,QAAQC,IAAIqH,QAGZtH,QAAQC,IAAI,uBAEd,OACE,6BACA,kBAAC2H,EAAA,EAAOC,SAAR,CAAiBC,GAAIC,IAASC,UAAQ,EAACC,OAAQ/B,EAAQV,MAAO,CAACI,QAAQ,IAErE,kBAACL,EAAD,CAAQQ,MAAM,YAEd,yBAAKP,MAAO,CAACC,gBAAiB,UAAWC,OAAO,IAAKC,UAAU,WAC7D,wBAAIH,MAAO,CAACI,QAAQ,GAAIC,MAAM,QAASC,SAAS,KAAhD,YACA,kBAAC,IAAD,CAAoBhB,SAAUA,EAAUoD,aAAc7J,EAAS6G,WAMnE,kBAAC0C,EAAA,EAAD,CAAQ1B,OAAQjE,KAAK/B,MAAMgG,QACzB,kBAACiC,EAAA,EAAD,CAAQC,UAAQ,GAAhB,aAxDJ,OACE,6BACE,kBAAC7C,EAAD,CAAQQ,MAAM,kBAEZ,kBAAC,IAAD,CACEsC,IAAM7D,EAAKC,GACX6D,SAAO,EACPC,MAAM,OACNC,QAAS,WACLxI,QAAQC,IAAI,WACZ,EAAKV,SAAS,CACZmH,aAAa,KAGrBjE,UAAU,gB,GA7GJgB,IAAMC,WC2DX+E,E,YA/Eb,WAAYrJ,GAAQ,IAAD,uBACjB,4CAAMA,KA2CRsJ,eA5CmB,sBA4CF,sBAAAvE,EAAA,sEAGV,EAAK5E,SAAS,CAAEoJ,QAAS,+CAHf,OAIhB,EAAKC,UAJW,2CA5CE,EAqDnBC,aAAe,WACb,EAAKzJ,MAAM0J,QAAQC,KAAK,YAtDP,EA0DnBC,aAAe,WACb,EAAK5J,MAAM0J,QAAQC,KAAK,YAxDxB,IAAM3C,EAASC,IAAYC,MAAM,EAAKlH,MAAMmH,SAASC,QAHpC,OAKjB,EAAKtG,MAAQ,CACXuG,gBAAiBL,EAAOK,gBACxBkC,QAAS,GACTM,QAAS,GACTpC,YAAa,IATE,E,iFAgBFR,IAAYC,MAAMrE,KAAK7C,MAAMmH,SAASC,U,gCAQ5C,IAAD,OACFJ,EAASC,IAAYC,MAAMrE,KAAK7C,MAAMmH,SAASC,QAEjD0C,EAA+B,sFAAwFjH,KAAK/B,MAAMyI,QAAU,mBAAqBvC,EAAOK,gBAE/I,MAA1BL,EAAOK,kBACNyC,EAA+B,sFAAwFjH,KAAK/B,MAAMyI,QAAU,8DAGhJQ,MAAMD,GACDxI,MAAK,SAAA0I,GAAG,OAAIA,EAAIC,UAChB3I,MAAK,SAAA0I,GAAG,OAAI,EAAK7J,SAAS,CAAEsH,YAAauC,OACzC1I,MAAK,SAAA0I,GAAG,OAAIpJ,QAAQC,IAAI,EAAKC,MAAM2G,gBACnCnG,MAAO,WACH,EAAKR,MAAM2G,iB,+BA0BpB,OACE,yBAAKrB,MAAO,CAACC,gBAAiB,UAAWC,OAAO,IAAKC,UAAU,WAC7D,wBAAIH,MAAO,CAACI,QAAQ,GAAIC,MAAM,QAASC,SAAS,KAAhD,aACA,wBAAIN,MAAO,CAACI,QAAQ,GAAKE,SAAS,KAAlC,+CACA,yBAAKN,MAAO,CAACI,QAAQ,KACpB,kBAACtC,EAAA,EAAD,CAAQkC,MAAO,CAAE+C,MAAO,OAAQ1C,MAAM,SAASjD,KAAK,OAAOK,QAAShB,KAAK4G,cAAzE,wBAED,yBAAKrD,MAAO,CAACI,QAAQ,KACpB,kBAACtC,EAAA,EAAD,CAAQkC,MAAO,CAAE+C,MAAO,OAAQ1C,MAAM,SAASjD,KAAK,OAAOK,QAAShB,KAAK+G,cAAzE,+B,GA1EWvF,IAAMC,W,0kBCxB1B,IAAM4F,EAAM,IAIZ,SAASC,GAAOnK,GACd,OACE,4BAAQqD,UAAU,SAASQ,QAAS7D,EAAM6D,SACvC7D,EAAMM,O,IAKP8J,G,qLACSC,GAAI,IAAD,OACd,OACE,kBAACF,GAAD,CACE7J,MAAOuC,KAAK7C,MAAMsK,QAAQD,GAC1BxG,QAAS,kBAAM,EAAK7D,MAAM6D,QAAQwG,Q,+BAMtC,OACE,6BACE,yBAAKhH,UAAU,aACZR,KAAK0H,aAAa,GAClB1H,KAAK0H,aAAa,GAClB1H,KAAK0H,aAAa,IAErB,yBAAKlH,UAAU,aACZR,KAAK0H,aAAa,GAClB1H,KAAK0H,aAAa,GAClB1H,KAAK0H,aAAa,IAErB,yBAAKlH,UAAU,aACZR,KAAK0H,aAAa,GAClB1H,KAAK0H,aAAa,GAClB1H,KAAK0H,aAAa,S,GA1BTlG,IAAMC,W,8CAmT1B,WAA4B4F,EAAKM,EAASC,EAAUC,EAASC,GAA7D,iBAAA5F,EAAA,+EAE2ByF,EAAQI,eAAeV,EAAKA,GAFvD,cAEcW,EAFd,gBAG2BH,EAAQE,eAAeV,EAAKA,GAHvD,OAGcY,EAHd,OAIQlK,QAAQC,IAAI,gBAAiBgK,EAAM,gBAAiBC,GAJ5D,kDAMQlK,QAAQC,IAAI,+BAAZ,MANR,2D,+BAUekK,G,qFAAf,WAAuBC,EAAQC,EAAoBC,GAAnD,SAAAnG,EAAA,+EAEYiG,EAAOG,QAAQD,EAAQD,GAFnC,OAGMrK,QAAQC,IAAI,OAAQqK,EAAQ,SAAUD,GAH5C,+CAKMrK,QAAQC,IAAI,qBAAZ,MALN,yD,+BASeuK,G,mFAAf,WAA2BJ,EAAQE,GAAnC,SAAAnG,EAAA,+EAEciG,EAAOI,YAAYF,GAFjC,OAGQtK,QAAQC,IAAI,kBAHpB,+CAKQD,QAAQC,IAAI,6BAAZ,MALR,yD,+BASesC,G,iFAAf,WAA0B6H,GAA1B,eAAAjG,EAAA,+EAE+BiG,EAAOK,gBAFtC,cAEcC,EAFd,yBAGeA,GAHf,gCAKQ1K,QAAQC,IAAI,yBAAZ,MALR,0D,+BASe0K,G,mFAAf,WAA0BP,EAAQE,GAAlC,SAAAnG,EAAA,sEAEQnE,QAAQC,IAAI,aAAcqK,EAAQ,OAF1C,SAGcF,EAAOO,WAAWL,GAHhC,sDAKQtK,QAAQC,IAAI,wBAAZ,MALR,OAOID,QAAQC,IAAI,iBAPhB,0D,sBAWA,SAAS2K,GAAgBlB,GAWvB,IAVA,IAAMmB,EAAQ,CACZ,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,IAEApB,EAAI,EAAGA,EAAIoB,EAAMhG,OAAQ4E,IAAK,CAAC,IAAD,cACnBoB,EAAMpB,GADa,GAC9BtF,EAD8B,KAC3B2G,EAD2B,KACxBC,EADwB,KAErC,GAAIrB,EAAQvF,IAAMuF,EAAQvF,KAAOuF,EAAQoB,IAAMpB,EAAQvF,KAAOuF,EAAQqB,GACpE,OAAOrB,EAAQvF,GAGnB,OAAO,KAGM6G,O,YApVb,WAAY5L,GAAQ,IAAD,8BACjB,4CAAMA,KA6BR6L,aA9BmB,uCA8BJ,WAAOC,GAAP,uBAAA/G,EAAA,yDAGLgH,EAAc,IACC,MAAjBD,EAJO,gBAKPE,EAAe,EAAKlL,MAAM0J,QAC1ByB,EAAiB,EAAKnL,MAAM6J,SANrB,0BAOiB,MAAjBmB,EAPA,iBAQPE,EAAe,EAAKlL,MAAM4J,QAC1BuB,EAAiB,EAAKnL,MAAM2J,SATrB,6BAWD,aAXC,yBAcLM,GAAQiB,EAAcC,EAAgBF,GAdjC,yBAiBY5I,GAAW,EAAKnD,MAAMwK,SAjBlC,eAiBL0B,EAjBK,iBAkBY/I,GAAW,EAAKnD,MAAM0K,SAlBlC,QAkBLyB,EAlBK,OAmBX,EAAKhM,SAAL,KACO,EAAKW,MADZ,CAEIsL,eAAgBF,EAChBG,eAAgBF,KAGpBvL,QAAQC,IAAI,YAAaqL,EAAUC,GACnCvL,QAAQC,IAAI,qBAAsC,KAAhBiL,EAAsB,EAAI,GA1BjD,4CA9BI,sDAEjBlL,QAAQC,IAAI,SAAUb,G,6CACtBsM,CAAapC,EAAKlK,EAAMwK,QAASxK,EAAMyK,SAAUzK,EAAM0K,QAAS1K,EAAM2K,UACtE,EAAK7J,MAAQ,CACX4I,QAAS,CACP,CACEY,QAASiC,MAAM,GAAGC,KAAK,QAG3BC,WAAY,EACZC,SAAS,EACTlC,QAASxK,EAAMwK,QACfE,QAAS1K,EAAM0K,QACfD,SAAUzK,EAAMyK,SAChBE,SAAU3K,EAAM2K,SAChBgC,eAAgB,GAhBD,E,mNAqBMxJ,GAAWN,KAAK7C,MAAMwK,S,cAAvC0B,E,gBACiB/I,GAAWN,KAAK7C,MAAM0K,S,OAAvCyB,E,OACNtJ,KAAK1C,SAAL,KACO0C,KAAK/B,MADZ,CAEIsL,eAAgBF,EAChBG,eAAgBF,K,wIAiCV9B,GACVzJ,QAAQC,IAAI,QAASgC,KAAK/B,MAAO+B,KAAK/B,MAAMsL,eAAeQ,aAC3D,IAAMlD,EAAU7G,KAAK/B,MAAM4I,QAAQmD,MAAM,EAAGhK,KAAK/B,MAAM2L,WAAa,GAE9DnC,EADUZ,EAAQA,EAAQjE,OAAS,GACjB6E,QAAQuC,QAChC,IAAIrB,GAAgBlB,KAAYA,EAAQD,GAAxC,CAIA,IAAMyC,EAASjK,KAAK/B,MAAM4L,QAAU,IAAM,IAC1CpC,EAAQD,GAAKyC,EACTtB,GAAgBlB,IAChBzH,KAAKgJ,aAAaiB,GAEtBjK,KAAK1C,SAAS,CACZuJ,QAASA,EAAQqD,OAAO,CACtB,CACEzC,QAASA,KAGbmC,WAAY/C,EAAQjE,OACpBiH,SAAU7J,KAAK/B,MAAM4L,a,6BAIlBM,GACLnK,KAAK1C,SAAS,CACZsM,WAAYO,EACZN,QAAUM,EAAO,IAAO,M,+BAIlB,IA6GJC,EA7GG,OAmBDC,EAAsB,uCAAG,WAAOzO,GAAP,uBAAAsG,EAAA,yDAE3BtG,EAAE0O,iBACIC,EAAS,EAAKtM,MAAM6L,eACpBzB,EAAS,EAAKpK,MAAMuM,iBAEtBC,MAAMpC,GACNqC,MAAM,6BACCrC,GAAU,GACjBqC,MAAM,kCAGK,IAAXH,GAA2B,IAAXA,EAZO,qBAajB,cAbiB,cAgBrBI,EAA0B,IAAXJ,EAAe,EAAKpN,MAAMwK,QAAU,EAAKxK,MAAM0K,QAEpE9J,QAAQC,IAAI,YAlBe,UAmBrB0K,GAAWiC,EAActC,GAnBJ,eAoB3BtK,QAAQC,IAAI,WApBe,UAqBJsC,GAAWqK,GArBP,QAqBrBlC,EArBqB,OAsBrBmC,EAAgB,SAAWL,EAAS,UAC1C,EAAKjN,SAAL,KACO,EAAKW,MADZ,eAEK2M,EAAgBnC,KAErB1K,QAAQC,IAAI,qCAAsCuM,GA3BvB,4CAAH,sDA8BtBM,EAAuB,uCAAG,WAAOjP,GAAP,uBAAAsG,EAAA,yDAE5BtG,EAAE0O,iBACIC,EAAS,EAAKtM,MAAM6L,eACpBzB,EAAS,EAAKpK,MAAM6M,kBAEtBL,MAAMpC,GACNqC,MAAM,6BACCrC,GAAU,GACjBqC,MAAM,kCAGK,IAAXH,GAA2B,IAAXA,EAZQ,qBAalB,cAbkB,cAgBtBI,EAA0B,IAAXJ,EAAe,EAAKpN,MAAMwK,QAAU,EAAKxK,MAAM0K,QAhBxC,SAkBtBU,GAAYoC,EAActC,GAlBJ,wBAmBL/H,GAAWqK,GAnBN,QAmBtBlC,EAnBsB,OAoBtBmC,EAAgB,SAAWL,EAAS,UAC1C,EAAKjN,SAAL,KACO,EAAKW,MADZ,eAEK2M,EAAgBnC,KAErB1K,QAAQC,IAAI,sCAAuCuM,GAzBvB,4CAAH,sDA6CvB1D,EAAU7G,KAAK/B,MAAM4I,QACrBkE,EAAUlE,EAAQ7G,KAAK/B,MAAM2L,YAC7BoB,EAASrC,GAAgBoC,EAAQtD,SAEzBZ,EAAQoE,KAAI,SAACd,EAAMe,GAC/B,IAAMC,EAAOD,EACX,eAAiBA,EACjB,mBACF,OACE,wBAAIE,IAAKF,GACP,4BAAQlK,QAAS,kBAAM,EAAKqK,OAAOH,KAAQC,OAYjD,OALEf,EADEY,EACO,WAAaA,EAAS,oBAAsBA,EAE5C,iBAAmBhL,KAAK/B,MAAM4L,QAAU,IAAM,KAIvD,yBAAKrJ,UAAU,QACb,yBAAKA,UAAU,cACb,kBAAC,GAAD,CACEiH,QAASsD,EAAQtD,QACjBzG,QAAS,SAAAwG,GAAC,OAAI,EAAK8D,YAAY9D,OAGnC,yBAAKhH,UAAU,aACb,6BAAM4J,IAGd,0BAAMmB,SAAUlB,GACd,6CAEE,2BAAOmB,KAAK,OAAO/N,MAAOuC,KAAK/B,MAAMR,MAAO2D,SAxHf,SAACxF,GAC5B,IAAM6P,EAAS7P,EAAE4B,OAAOC,MACxB,EAAKH,SAAL,KACO,EAAKW,MADZ,CAEIuM,iBAAkBiB,SAsH1B,2BAAOD,KAAK,SAAS/N,MAAM,YAGvB,6BAEN,0BAAM8N,SAAUV,GACd,8CAEE,2BAAOW,KAAK,OAAOpK,SA1IW,SAACxF,GAC7B,IAAM6P,EAAS7P,EAAE4B,OAAOC,MACxB,EAAKH,SAAL,KACO,EAAKW,MADZ,CAEI6M,kBAAmBW,SAwI3B,2BAAOD,KAAK,SAAS/N,MAAM,YAGvB,6BACA,yBAAK2D,SAtEY,SAACxF,GAClB,IAAI2O,EACJ,GAAuB,aAAnB3O,EAAE4B,OAAOC,MACT8M,EAAS,MACN,IAAuB,aAAnB3O,EAAE4B,OAAOC,MAGhB,KAAM,MAFN8M,EAAS,EAKb,EAAKjN,SAAL,KACO,EAAKW,MADZ,CAEI6L,eAAgBS,OA2DlB,2BAAOmB,gBAAc,EAACF,KAAK,QAAQ/N,MAAM,WAAWoD,KAAK,WAD3D,YAEE,2BAAO2K,KAAK,QAAQ/N,MAAM,WAAWoD,KAAK,WAF5C,aAIA,6BAEA,8CApCF,qBAqCqBb,KAAK/B,MAAM2J,SAC9B,8CACe5H,KAAK/B,MAAMsL,gBAAkBvJ,KAAK/B,MAAMsL,eAAeQ,YACtE,6BAFA,mBAGiB/J,KAAK/B,MAAMsL,gBAAkBvJ,KAAK/B,MAAMsL,eAAeoC,cACxE,6BAJA,uBAKqB3L,KAAK/B,MAAMsL,gBAAkBvJ,KAAK/B,MAAMsL,eAAeqC,mBAE5E,6BACA,8CA9CF,qBA+CqB5L,KAAK/B,MAAM6J,SAC9B,8CACe9H,KAAK/B,MAAMuL,gBAAkBxJ,KAAK/B,MAAMuL,eAAeO,YACtE,6BAFA,mBAGiB/J,KAAK/B,MAAMuL,gBAAkBxJ,KAAK/B,MAAMuL,eAAemC,cACxE,6BAJA,uBAKqB3L,KAAK/B,MAAMuL,gBAAkBxJ,KAAK/B,MAAMuL,eAAeoC,wB,GAvQjEpK,IAAMC,WC1CnBoK,GAAQC,EAAQ,KAOhBnE,GAAU,IAAIkE,GAAME,OAAO,0BAC3BlE,GAAU,IAAIgE,GAAME,OAAO,0BAalBC,G,iLARX,OACE,yBAAKzI,MAAO,CAACI,QAAQ,KACnB,kBAAC,GAAD,CAAMgE,QAASA,GAASE,QAASA,GAASD,SAZjC,6CAYqDE,SAXrD,oD,GAMGtG,IAAMC,WCUXwK,OAhBf,WACI,OACE,kBAAC,IAAD,KACE,yBAAKzL,UAAU,OAEb,kBAAC,IAAD,CAAO0L,KAAK,IAAIC,OAAK,EAACC,UAAWlP,IAEjC,kBAAC,IAAD,CAAOgP,KAAK,UAAUE,UAAWrI,IACjC,kBAAC,IAAD,CAAOmI,KAAK,UAAUE,UAAW5F,IACjC,kBAAC,IAAD,CAAO0F,KAAK,UAAUE,UAAWJ,Q,OCZ3CK,IAASC,OAAO,kBAAC,GAAD,MAAStN,SAASC,eAAe,W","file":"static/js/main.50c6fbc7.chunk.js","sourcesContent":["function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 673;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 835;","import firebase from 'firebase'\n\n\nconst config = {\n  apiKey: process.env.REACT_APP_API_KEY,\n  authDomain: process.env.REACT_APP_AUTH_DOMAIN,\n  databaseURL: process.env.REACT_APP_DATABASE_URL,\n  projectId: process.env.REACT_APP_PROJECT_ID,\n  storageBucket: process.env.REACT_APP_STORAGE_BUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGING_SENDER_ID,\n  appId: process.env.REACT_APP_APP_ID, \n  measurementId: process.env.REACT_APP_MEASUREMENT_ID\n};\n  \n\n\nfirebase.initializeApp(config);\nexport default firebase;","//lifecycle of this component\n//1) mount\n//2) check to make sure links are youtube or vimeo & submit links to firebase -->return success or failure\n//3) if successfully submitted --> show address and promp to deposit eth\n//    else --> tell user there was a problem and suggest they try again \n//4) if successfully deposited --> show user qrcode and download button\n\n//check for success or failure most iportant \n\nimport React from 'react';\nimport QRCode from 'qrcode.react';\nimport { Button, Input, Icon } from 'semantic-ui-react';\nimport { ethers } from 'ethers';\nimport './NewCampaign.css';\nimport firebase from './firebase';\n\n//import ethers from 'ethers';\n\nlet provider = ethers.getDefaultProvider('ropsten');\nlet testWallet = '0x830c5D312D507DdB066192d34dD6441737e127C8';\n\nclass NewCampaign extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n    accountEmpty: true,\n    adWallet: ethers.Wallet.createRandom(),\n    linksSubmitted: false,\n    problemSubmitting: false,\n    link1: '',\n    link2: '',\n    link3: ''\n  };\n\n    this.handleChange1 = this.handleChange1.bind(this);\n    this.handleChange2 = this.handleChange2.bind(this);\n    this.handleChange3 = this.handleChange3.bind(this);\n\n  }\n\n  componentDidMount() {\n    this.timerID = setInterval(\n      () => this.tick(),\n      1000\n    );\n  }\n\n\n  componentWillUnmount() {\n    clearInterval(this.timerID);\n  }\n\n  async tick() {\n    let wallet = new ethers.Wallet(this.state.adWallet.privateKey , provider);\n    let balance = await wallet.getBalance();\n\n    if (!balance.isZero()){\n\n      this.setState({\n          accountEmpty: false\n      }, () => {\n          //this.afterSetStateFinished();\n      });\n      clearInterval(this.timerID);\n\n    }\n\n  }\n\n  handleChange1 = (event) => {\n    this.setState({link1: event.target.value});\n  }\n\n  handleChange2 = (event) => {\n    this.setState({link2: event.target.value});\n  }\n  handleChange3 = (event) => {\n    this.setState({link3: event.target.value});\n  }\n\n\n\n\n\n  submitButton = () => {\n    console.log( \" QR code takes you to https://cryptoads-77142.firebaseapp.com/page1/?adWalletAddress=\" + this.state.adWallet.address);\n    this.uploadKeys();\n    \n  }\n  \n\n  uploadKeys = () => {\n\n    firebase.database().ref('keypairs/' + this.state.adWallet.address).set({\n        privateKey: this.state.adWallet.privateKey\n    }).then(() => {\n        console.log(\"Keys successfully written!\");\n        this.uploadLinks();\n    })\n    .catch(() => {\n        this.setState({\n            problemSubmitting: true \n        })\n      }\n    );\n\n  }\n\n  uploadLinks = () => {\n\n    firebase.database().ref('adCampaigns/' + this.state.adWallet.address).set({\n        link1: this.state.link1,\n        link2: this.state.link2,\n        link3: this.state.link3\n    }).then(() => {\n        console.log(\"Document successfully written!\");\n        this.setState({ linksSubmitted: true });\n    })\n    .catch(() => {\n        this.setState({\n            problemSubmitting: true \n        })\n      }\n    );\n    \n\n  }\n\n\n\n  downloadQR = () => {\n    const canvas = document.getElementById(\"123456\");\n    const pngUrl = canvas\n      .toDataURL(\"image/png\")\n      .replace(\"image/png\", \"image/octet-stream\");\n    let downloadLink = document.createElement(\"a\");\n    downloadLink.href = pngUrl;\n    downloadLink.download = \"123456.png\";\n    document.body.appendChild(downloadLink);\n    downloadLink.click();\n    document.body.removeChild(downloadLink);\n    \n  }\n\n  render() {\n    if(!this.state.linksSubmitted && !this.state.problemSubmitting){ \n      return (\n        <div className=\"Campaign\">\n          <div>\n            <h1> Create a New Ad Campaign </h1>\n          </div>\n          <div>\n            <h2>Step1: Paste Links to Video Ads Below</h2>\n          </div>\n        <div>\n            <Input focus  placeholder='Youtube or Vimeo Video Link ' value={this.state.link1} onChange={this.handleChange1}/>\n          </div>\n          <div>\n            <Input focus   placeholder='Youtube or Vimeo Video Link ' value={this.state.link2} onChange={this.handleChange2}/>\n          </div>\n          <div>\n            <Input focus  placeholder='Youtube or Vimeo Video Link ' value={this.state.link3} onChange={this.handleChange3}/>\n          </div>\n      \n          <div>\n            <Button onClick={this.submitButton} content='Submit Links' primary />\n          </div>\n          \n        </div>\n      );\n    } \n    else if(!this.state.linksSubmitted && this.state.problemSubmitting){ \n      return (\n        <div className=\"Campaign\">\n          <div>\n            <h1> Oh no! Problem Uploading Links to Database! </h1>\n          </div>\n          <div>\n            <h2>Please consider trying again later </h2>\n          </div>\n          \n        </div>\n      );\n    }\n    else if(this.state.accountEmpty){\n      return (\n        <div className=\"Campaign\">\n          <div>\n            <h2>Step2: Deposit Ether in Your New Ad Account</h2>\n          </div>\n          <div>\n            <h3>Send to this Address</h3>\n          </div>\n          <div>\n            <h3> {this.state.adWallet.address}</h3>\n          </div>\n          <div>\n            <Icon.Group size='huge'>\n              <Icon loading size='big' name='circle notch' />\n              <Icon name='download' />\n            </Icon.Group>\n            <h4>Awaiting Deposit</h4>\n          </div>\n        </div>\n      );\n    } \n    else{\n      return (\n\n        <div className=\"Campaign\">\n          <div>\n            <h1> Success! Your add campaign is live! </h1>\n          </div>\n          <div>\n            <h3> Users can scan the QR code below to view your ads and recieve crypto as paymet. </h3>\n          </div>\n          <div>\n            <h3> Put this code on flyers, tshirts, buillbords ect! </h3>\n          </div>\n          <div>\n            <QRCode\n              id=\"123456\"\n              value= {\"https://cryptoads-77142.firebaseapp.com/page1/?adWalletAddress=\" + this.state.adWallet.address}\n              size={290}\n              level={\"H\"}\n              includeMargin={true}\n            />\n          </div>\n          <div>\n            <a onClick={this.downloadQR}> Download QR </a>\n          </div>\n        </div>\n      );\n    }   \n  }\n}\n\nexport default NewCampaign;","import Web3 from 'web3'\nimport Torus from '@toruslabs/torus-embed'\n\nconst web3Obj = {\n  web3: new Web3(),\n  setweb3: function(provider) {\n    const web3Inst = new Web3(provider)\n    web3Obj.web3 = web3Inst\n    sessionStorage.setItem('pageUsingTorus', true)\n  },\n  initialize: async function() {\n    const torus = new Torus()\n    await torus.init()\n    await torus.login()\n    web3Obj.setweb3(torus.provider)\n  }\n}\nexport default web3Obj\n","/*\n Two possibilities\n  i) return to page1 after google sign in without distroying state --> then move to page2\n  ii) pass in a param into redirect url and move to page 2 directly \n*/\n\n\nimport React from 'react';\nimport web3Obj from './helper'\nimport ReactPlayer from 'react-player'\nimport { Button, Dimmer, Segment,Loader, } from 'semantic-ui-react'\nimport queryString from 'query-string'\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport firebase from './firebase';\n\nimport './Page1.css';\n\n\nlet urls = ['https://www.youtube.com/watch?v=TAZYqXwW5lA',\n              'https://vimeo.com/265363100',\n              'https://vimeo.com/265363100'];\n\nconst x = Math.floor(Math.random() * urls.length);\n\nconst uiConfig = {\n  \n      signInFlow: 'popup',\n      //signInSuccessUrl: '/page2/?adWalletAddress=' + this.state.adWalletAddress,\n      signInSuccessUrl: '/page1/',\n      signInOptions: [\n        firebase.auth.GoogleAuthProvider.PROVIDER_ID,\n        //firebase.auth.FacebookAuthProvider.PROVIDER_ID\n      ],\n      callbacks: {\n        // Avoid redirects after sign-in.\n        signInSuccessWithAuthResult: () => false\n      }\n    };\n\nfunction Topbar(props) {\n  return (\n    <div style={{backgroundColor: '#282c34', height:100, textAlign:'center' }}>\n      <h2 style={{padding:40, color:'white', fontSize:34}}>{props.title}</h2>\n    </div>\n  );\n}\n\n\nclass Page1 extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    const values = queryString.parse(this.props.location.search)\n\n    this.state = {\n      adWalletAddress: values.adWalletAddress,\n      videoPlayed: false,\n      gotLinks: false,\n      active: false,\n      isSignedIn: false, // Local signed-in state.\n      apiResponse: \"\" \n    };\n\n  }\n\n  \n  handleShow = () => this.setState({ active: true })\n  handleHide = () => this.setState({ active: false })\n\n  componentDidMount() {\n\n      if(this.state.isSignedIn){\n        console.log(\"Test Point 1: True\");\n      }\n      else{\n        console.log(\"Test Point 1: False\");\n      }\n\n\n      this.unregisterAuthObserver = firebase.auth().onAuthStateChanged(\n          (user) => this.setState({isSignedIn: !!user})\n      );\n\n      if(this.state.isSignedIn){\n        console.log(\"Test Point 2: True\");\n      }\n      else{\n        console.log(\"Test Point 2: False\");\n      }\n\n      const values = queryString.parse(this.props.location.search)\n    \n      var campaignRef = firebase.database().ref('adCampaigns/' + values.adWalletAddress);\n      \n      if(values.adWalletAddress == null ){\n        campaignRef = firebase.database().ref('adCampaigns/0x619e4bc22CB5079D154640c1ba2fCC936A12606e');\n      }\n      \n      \n\n      campaignRef.once('value').then(function(snapshot) {\n        // The first promise succeeded. Save snapshot for later.\n        if ( snapshot.val().link1 != \"\"){\n          urls[0] = snapshot.val().link1;\n        }\n        if ( snapshot.val().link2 != \"\"){\n          urls[1] = snapshot.val().link2;\n        }\n        if ( snapshot.val().link3 != \"\"){\n          urls[2] = snapshot.val().link3;\n        }\n         console.log(snapshot.val().link1);\n         console.log(snapshot.val().link2);\n         console.log(snapshot.val().link3);\n        \n        \n      }).then(() => {\n        this.setState({ gotLinks: true })\n      }, function(error) {\n        // Something went wrong.\n        console.error(error);\n      });\n\n  }\n\n  componentWillUnmount() {\n    this.unregisterAuthObserver();\n  }\n\n  render() {\n    \n\n    const { active } = this.state\n\n      if(!this.state.gotLinks ){\n        return (\n          <div >\n            <Topbar title=\"Play Video to Earn $\"/>\n          </div>\n        );\n      }\n      if(!this.state.videoPlayed ){\n        return (\n          <div >\n            <Topbar title=\"Play & Earn $\"/>\n\n              <ReactPlayer\n                url={ urls[x] } \n                playing\n                width='100%'\n                onEnded={() => {\n                    console.log('onEnded')\n                    this.setState({\n                      videoPlayed: true\n                    });\n                  }}\n              className=\"Player\"  \n              />\n            \n          </div>\n        );\n      }\n      else{\n        if(this.state.isSignedIn){\n          console.log(\"Test Point 3: True\");\n          var user = firebase.auth().currentUser;\n          var name, email, photoUrl, uid, emailVerified;\n\n          if (user != null) {\n            name = user.displayName;\n            email = user.email;\n            photoUrl = user.photoURL;\n            emailVerified = user.emailVerified;\n            uid = user.uid;  // The user's ID, unique to the Firebase project. Do NOT use\n                             // this value to authenticate with your backend server, if\n                             // you have one. Use User.getToken() instead.\n          }\n          console.log(name);\n          console.log(uid);\n        }\n        else{\n          console.log(\"Test Point 3: False\");\n        }\n        return (\n          <div>\n          <Dimmer.Dimmable as={Segment} blurring dimmed={active} style={{padding:0 }}>\n          \n            <Topbar title=\"Thanks!\"/>\n            \n            <div style={{backgroundColor: '#282c34', height:100, textAlign:'center' }}>\n              <h2 style={{padding:40, color:'white', fontSize:34}}>Claim $$</h2>\n              <StyledFirebaseAuth uiConfig={uiConfig} firebaseAuth={firebase.auth()}/>\n            </div>\n             \n          </Dimmer.Dimmable>\n            \n            \n          <Dimmer active={this.state.active}>\n            <Loader inverted>Loading</Loader>\n          </Dimmer>\n\n          </div>\n        );\n      }\n  }\n}\n\nexport default Page1\n\n","\nimport React from 'react';\nimport { Button} from 'semantic-ui-react'\nimport queryString from 'query-string'\n\n\n\n/*\n\nvar user = firebase.auth().currentUser;\nvar name, email, photoUrl, uid, emailVerified;\n\nif (user != null) {\n  name = user.displayName;\n  email = user.email;\n  photoUrl = user.photoURL;\n  emailVerified = user.emailVerified;\n  uid = user.uid;  // The user's ID, unique to the Firebase project. Do NOT use\n                   // this value to authenticate with your backend server, if\n                   // you have one. Use User.getToken() instead.\n}\n\n\n*/\n\n\nclass Page2 extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    const values = queryString.parse(this.props.location.search);\n\n    this.state = {\n      adWalletAddress: values.adWalletAddress,\n      account: '', \n      balance: '',\n      apiResponse: \"\" \n    };\n\n  }\n\n  componentDidMount() {\n    //this.loadUserWallet();\n    const values = queryString.parse(this.props.location.search)\n\n    //task 1 --> get ad wallet \n    //task 2 --> get user id \n\n\n  }\n\n  callAPI() {\n    const values = queryString.parse(this.props.location.search)\n\n    let fetchStringWithWalletAddress = \"https://us-central1-cryptoads-77142.cloudfunctions.net/payout2?ClientWalletAddress=\" + this.state.account + \"&AdWalletPublic=\" + values.adWalletAddress;\n\n    if(values.adWalletAddress == null ){\n        fetchStringWithWalletAddress = \"https://us-central1-cryptoads-77142.cloudfunctions.net/payout2?ClientWalletAddress=\" + this.state.account + \"&AdWalletPublic=0x619e4bc22CB5079D154640c1ba2fCC936A12606e\";\n      }\n\n    fetch(fetchStringWithWalletAddress)\n        .then(res => res.text())\n        .then(res => this.setState({ apiResponse: res }))\n        .then(res => console.log(this.state.apiResponse))\n        .then(  () => {\n          if(this.state.apiResponse === \"Success\"){\n            \n          }\n        });\n  }\n\n  loadUserWallet = async () => {\n    \n   //test account \n   await this.setState({ account: '0x830c5D312D507DdB066192d34dD6441737e127C8' });\n   this.callAPI();\n      \n  }\n\n\n  handleClick1 = () => {\n    this.props.history.push('/page1/')\n    \n  }\n\n  handleClick2 = () => {\n    this.props.history.push('/page3/')\n    \n  }\n\n  render() {\n    return (\n      <div style={{backgroundColor: '#282c34', height:100, textAlign:'center' }}>\n        <h2 style={{padding:40, color:'white', fontSize:34}}>Congrats!</h2>\n        <h2 style={{padding:40,  fontSize:30}}>$0.10 in ETH has been added to your account</h2>\n        <div style={{padding:40 }} >\n         <Button style={{ width: '50%'}} color='violet' size='huge' onClick={this.handleClick1}>Watch More Videos !</Button>\n        </div>\n        <div style={{padding:40 }} >\n         <Button style={{ width: '50%'}} color='violet' size='huge' onClick={this.handleClick2}>Use $$ To Play Games!</Button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Page2;\n\n\n","import React, { Component }  from 'react';\n\nconst num = '1'\n\nvar playerBalance\n\nfunction Square(props) {\n  return (\n    <button className=\"square\" onClick={props.onClick}>\n      {props.value}\n    </button>\n  );\n}\n\nclass Board extends React.Component {\n  renderSquare(i) {\n    return (\n      <Square\n        value={this.props.squares[i]}\n        onClick={() => this.props.onClick(i)}\n      />\n    );\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"board-row\">\n          {this.renderSquare(0)}\n          {this.renderSquare(1)}\n          {this.renderSquare(2)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(3)}\n          {this.renderSquare(4)}\n          {this.renderSquare(5)}\n        </div>\n        <div className=\"board-row\">\n          {this.renderSquare(6)}\n          {this.renderSquare(7)}\n          {this.renderSquare(8)}\n        </div>\n      </div>\n    );\n  }\n}\n\nclass Game extends React.Component {\n\n  constructor(props) {\n    super(props);\n    console.log(\"Props:\", props)\n    prepChannels(num, props.player1, props.address1, props.player2, props.address2)\n    this.state = {\n      history: [\n        {\n          squares: Array(9).fill(null)\n        }\n      ],\n      stepNumber: 0,\n      xIsNext: true,\n      player1: props.player1,\n      player2: props.player2,\n      address1: props.address1,\n      address2: props.address2,\n      selectedPlayer: 1,\n    }\n  }\n\n  async componentDidMount() {\n    const balance1 = await getBalance(this.props.player1)\n    const balance2 = await getBalance(this.props.player2)\n    this.setState({\n        ...this.state,\n        player1Balance: balance1,\n        player2Balance: balance2,\n    })\n  }\n\n  handleWinner = async (winnerSymbol) => {\n      var payingClient\n      var winningAddress\n      const wagerAmount = '1'\n      if (winnerSymbol === 'X') {\n          payingClient = this.state.player1\n          winningAddress = this.state.address2\n      } else if (winnerSymbol === 'O') {\n          payingClient = this.state.player2\n          winningAddress = this.state.address1\n      } else {\n          throw \"IMPOSSIBLE\"\n      }\n  \n      await sendPay(payingClient, winningAddress, wagerAmount)\n  \n      // Update player balances\n      const balance1 = await getBalance(this.props.player1)\n      const balance2 = await getBalance(this.props.player2)\n      this.setState({\n          ...this.state,\n          player1Balance: balance1,\n          player2Balance: balance2,\n      })\n  \n      console.log(\"balances:\", balance1, balance2)\n      console.log(\"Pay sent to player\", winnerSymbol == 'X' ? 1 : 2)\n  }\n\n  handleClick(i) {\n    console.log(\"this:\", this.state, this.state.player1Balance.freeBalance)\n    const history = this.state.history.slice(0, this.state.stepNumber + 1);\n    const current = history[history.length - 1];\n    const squares = current.squares.slice();\n    if (calculateWinner(squares) || squares[i]) {\n      return;\n    }\n\n    const symbol = this.state.xIsNext ? \"X\" : \"O\";\n    squares[i] = symbol\n    if (calculateWinner(squares)) {\n        this.handleWinner(symbol)\n    }\n    this.setState({\n      history: history.concat([\n        {\n          squares: squares\n        }\n      ]),\n      stepNumber: history.length,\n      xIsNext: !this.state.xIsNext\n    });\n  }\n\n  jumpTo(step) {\n    this.setState({\n      stepNumber: step,\n      xIsNext: (step % 2) === 0\n    });\n  }\n\n  render() {\n\n\n    const handleWithdrawEthChange = (e) => {\n        const numWei = e.target.value\n        this.setState({\n            ...this.state,\n            ethWithdrawAmount: numWei,\n        })\n    }\n\n    const handleDepositEthChange = (e) => {\n        const numWei = e.target.value\n        this.setState({\n            ...this.state,\n            ethDepositAmount: numWei,\n        })\n    }\n\n    const handleSubmitDepositEth = async (e) => {\n        // prevent form submission\n        e.preventDefault()\n        const player = this.state.selectedPlayer\n        const amount = this.state.ethDepositAmount\n\n        if (isNaN(amount)) {\n            alert(\"Please specify an integer\")\n        } else if (amount <= 0) {\n            alert(\"Please specify positive amount\")\n        }\n\n        if (player !== 1 && player !== 2) {\n            throw \"Impossible!\"\n        }\n\n        const playerClient = player === 1 ? this.props.player1 : this.props.player2\n\n        console.log(\"AWAITING\")\n        await depositEth(playerClient, amount)\n        console.log(\"AWAITED\")\n        const balances = await getBalance(playerClient)\n        const playerBalance = \"player\" + player + \"Balance\"\n        this.setState({\n            ...this.state,\n            [playerBalance]: balances,\n        })\n        console.log(\"Finished depositing Eth for player\", player)\n    }\n\n    const handleSubmitWithdrawEth = async (e) => {\n        // prevent form submission\n        e.preventDefault()\n        const player = this.state.selectedPlayer\n        const amount = this.state.ethWithdrawAmount\n\n        if (isNaN(amount)) {\n            alert(\"Please specify an integer\")\n        } else if (amount <= 0) {\n            alert(\"Please specify positive amount\")\n        }\n\n        if (player !== 1 && player !== 2) {\n            throw \"Impossible!\"\n        }\n\n        const playerClient = player === 1 ? this.props.player1 : this.props.player2\n\n        await withdrawEth(playerClient, amount)\n        const balances = await getBalance(playerClient)\n        const playerBalance = \"player\" + player + \"Balance\"\n        this.setState({\n            ...this.state,\n            [playerBalance]: balances,\n        })\n        console.log(\"Finished withdrawing Eth for player\", player)\n    }\n\n    const changePlayer = (e) => {\n        var player;\n        if (e.target.value === \"Player 1\") {\n            player = 1\n        } else if (e.target.value === \"Player 2\") {\n            player = 2\n        } else {\n            throw \"WTF\"\n        }\n\n        this.setState({\n            ...this.state,\n            selectedPlayer: player,\n        })\n    }\n\n\n    const history = this.state.history;\n    const current = history[this.state.stepNumber];\n    const winner = calculateWinner(current.squares);\n\n    const moves = history.map((step, move) => {\n      const desc = move ?\n        'Go to move #' + move :\n        'Go to game start';\n      return (\n        <li key={move}>\n          <button onClick={() => this.jumpTo(move)}>{desc}</button>\n        </li>\n      );\n    });\n\n    let status;\n    if (winner) {\n      status = \"Winner: \" + winner + \". Sending eth to \" + winner;\n    } else {\n      status = \"Next player: \" + (this.state.xIsNext ? \"X\" : \"O\");\n    }\n\n    return (\n      <div className=\"game\">\n        <div className=\"game-board\">\n          <Board\n            squares={current.squares}\n            onClick={i => this.handleClick(i)}\n          />\n        </div>\n        <div className=\"game-info\">\n          <div>{status}</div>\n        </div>\n\n\t\t<form onSubmit={handleSubmitDepositEth}>\n\t\t  <label>\n\t\t    Deposit Eth  \n\t\t    <input type=\"text\" value={this.state.value} onChange={handleDepositEthChange} />\n\t\t  </label>\n\t\t  <input type=\"submit\" value=\"Submit\" />\n\t\t</form>\n\n        <br />\n\n\t\t<form onSubmit={handleSubmitWithdrawEth}>\n\t\t  <label>\n\t\t    Withdraw Eth  \n\t\t    <input type=\"text\" onChange={handleWithdrawEthChange} />\n\t\t  </label>\n\t\t  <input type=\"submit\" value=\"Submit\" />\n\t\t</form>\n\n        <br />\n        <div onChange={changePlayer}>\n          <input defaultChecked type=\"radio\" value=\"Player 1\" name=\"player\"/> Player 1\n          <input type=\"radio\" value=\"Player 2\" name=\"player\"/> Player 2\n        </div>\n        <br />\n\n        <div>X is player 1</div>\n        Player 1 Address: {this.state.address1}\n        <div>\n        Free Balance: {this.state.player1Balance && this.state.player1Balance.freeBalance}\n        <br />\n        Locked Balance: {this.state.player1Balance && this.state.player1Balance.lockedBalance}\n        <br />\n        Receiving Capacity: {this.state.player1Balance && this.state.player1Balance.receivingCapacity}\n        </div>\n        <br />\n        <div>O is player 2</div>\n        Player 2 Address: {this.state.address2}\n        <div>\n        Free Balance: {this.state.player2Balance && this.state.player2Balance.freeBalance}\n        <br />\n        Locked Balance: {this.state.player2Balance && this.state.player2Balance.lockedBalance}\n        <br />\n        Receiving Capacity: {this.state.player2Balance && this.state.player2Balance.receivingCapacity}\n        </div>\n\n      </div>\n    );\n  }\n}\n\n// ========================================\n\n\nasync function prepChannels(num, player1, address1, player2, address2) {\n    try {\n        const cid1 = await player1.openEthChannel(num, num)\n        const cid2 = await player2.openEthChannel(num, num)\n        console.log(\"channel id 1:\", cid1, \"channel id 2:\", cid2)\n    } catch (e) {\n        console.log(\"Error with prepping channel:\", e)\n    }\n}\n\nasync function sendPay(client, destinationAddress, amount) {\n  try {\n      await client.sendEth(amount, destinationAddress);\n      console.log(\"Sent\", amount, \"wei to\", destinationAddress)\n  } catch (e) {\n      console.log(\"error sending eth:\", e)\n  }\n};\n\nasync function withdrawEth(client, amount) {\n    try {\n        await client.withdrawEth(amount)\n        console.log(\"Eth withdrawn!\")\n    } catch (e) {\n        console.log(\"Error with withdrawing eth\", e)\n    }\n}\n\nasync function getBalance(client) {\n    try {\n        const balances = await client.getEthBalance()\n        return balances\n    } catch (e) {\n        console.log(\"Error getting balance:\", e)\n    }\n}\n\nasync function depositEth(client, amount) {\n    try {\n        console.log(\"Depositing\", amount, \"wei\")\n        await client.depositEth(amount)\n    } catch (e) {\n        console.log(\"Error depositing eth:\", e)\n    }\n    console.log(\"Deposited eth\")\n}\n\n\nfunction calculateWinner(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6]\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n  return null;\n}\n\nexport default Game;\n\n","import React from 'react';\nimport { Button} from 'semantic-ui-react'\nimport { abi, contractAddress } from './abi';\nimport Game from './tictactoe'\n\nconst celer = require('celer-web-sdk');\n\nconst TIMEOUT = 20 * 1000\nconst account2 = '0xFdd84739339221cd7cDae571CcCBB58f96a899f1'\nconst account4 = '0x44f6e43Fb204A43fC4532b0B981ca34426B259E2'\nconst num = '1'\n\nconst player1 = new celer.Client('http://localhost:29979');\nconst player2 = new celer.Client('http://localhost:29980');\n\nclass Page3 extends React.Component {\n\n  render() {\n    return (\n      <div style={{padding:40 }} >\n        <Game player1={player1} player2={player2} address1={account2} address2={account4} />\n      </div>\n    );\n  }\n}\n\nexport default Page3;\n\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\n\nimport NewCampaign from \"./NewCampaign\";\n\nimport Page1 from \"./Page1\";\nimport Page2 from \"./Page2\";\nimport Page3 from \"./Page3\";\n\nfunction App() {\n    return (\n      <Router>\n        <div className=\"App\">\n\n          <Route path=\"/\" exact component={NewCampaign} />\n\n          <Route path=\"/page1/\" component={Page1} />\n          <Route path=\"/page2/\" component={Page2} />\n          <Route path=\"/page3/\" component={Page3} />\n\n        </div>\n      </Router>\n    );\n}\n\nexport default App;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './App'\nimport 'semantic-ui-css/semantic.min.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}